<!DOCTYPE html>
<html>
  <head>
	<style>
	  html, body, #map {
        height: 100%;
        padding: 0;
        margin: 0;
		z-index: 1;
      }
	</style>
    <link rel="stylesheet" href="https://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css" />
</head>
  
<body>
  
  <div id="map"></div>

  <div style="background: white; position: fixed; top: 0px; right: 0px; width: 100px" id="controlbar">
	<input type="radio">Click</input>
  </div>
    
    <!-- include google maps library *before* load cartodb.js -->
    <script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
    <!-- include cartodb.js library -->
    <script src="https://libs.cartocdn.com/cartodb.js/v3/cartodb.uncompressed.js"></script>
	
    <script>
	  function updateQuery(vis, layers) {
		var query1;
		var sublayer1 = layers[1].getSubLayer(0);
		var css1;
	
		query1 = "SELECT poets_lines.the_geom, poets_lines.the_geom_webmercator, poets_lines.cartodb_id, poets_lines.birth_city_name, poets_lines.other_city_name FROM poets_lines";
		css1 = "#poets_lines { line-color: #FF6600; line-width: 2; line-opacity: 0.7; }";
		
		sublayer1.setSQL(query1);
		sublayer1.setCartoCSS(css1);		
	  }
	  
	  function createSelector(vis, layers) {
		  var sql = new cartodb.SQL({ user: 'greeklyricpoets' });
		  var $options = $('#controlbar input');
		  
		  $options.click(function(e) {
			  updateQuery(vis, layers);		  
			});
	  }
		  
	  function main() {
		cartodb.createVis('map', 'https://greeklyricpoets.cartodb.com/api/v2/viz/2fd4eab8-f72a-11e4-a2d0-0e4fddd5de28/viz.json', {
		  tiles_loader: false,
		  center_lat: 38.95,
		  center_lon: 22.38,
		  zoom: 6
		})
		.done(function(vis, layers) {
		  layers[1].setQuery("select * from poets_lines");	   	  	  
		  createSelector(vis, layers);
		})
		.error(function(err) {
		  console.log(err);
		});
	  }

      window.onload = main;
    </script>

  </body>
</html>